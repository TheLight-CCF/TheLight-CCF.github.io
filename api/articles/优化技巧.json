{"title":"优化技巧","uid":"e2573f345f8e369bd93647303f895691","slug":"优化技巧","date":"2021-09-16T09:39:54.000Z","updated":"2021-09-16T10:05:19.305Z","comments":true,"path":"api/articles/优化技巧.json","keywords":null,"cover":null,"content":"<h1 id=\"DP优化\"><a href=\"#DP优化\" class=\"headerlink\" title=\"DP优化\"></a>DP优化</h1><ul>\n<li>$f<em>i = min</em>{i - l &lt; j &lt; i}(f_j + p_j) + p_i$​​<ul>\n<li>使用单调队列优化</li>\n</ul>\n</li>\n<li>$f<em>i = sum</em>{i - l &lt; j &lt; i}(f_j + p_j) + p_i$<ul>\n<li>使用前缀和优化</li>\n</ul>\n</li>\n<li>$f<em>i = min</em>{i - l &lt; j &lt; i}(f_j + p_j w_i) + p_i$<ul>\n<li>斜率优化</li>\n</ul>\n</li>\n<li>$f<em>i = sum</em>{1 &lt; j &lt; i}(f<em>j + q</em>{i-j}) + p_i$​​<ul>\n<li>分治FFT</li>\n</ul>\n</li>\n<li>$f<em>i = min</em>{A:j&lt;i,B,a_j &lt; a_i,C:b_j &lt; b_i}(f_j) + p_i$<ul>\n<li>CDQ分治</li>\n</ul>\n</li>\n<li>$f<em>i = min</em>{j&lt;i}{f_i + w(j+1,i)}$​<ul>\n<li>决策单调性优化</li>\n</ul>\n</li>\n<li>$f<em>{i,j} = f</em>{i-1}$<ul>\n<li>线段树优化</li>\n</ul>\n</li>\n<li>$WQS$二分(凸优化)</li>\n<li>长链剖分</li>\n<li>线段树合并</li>\n<li>矩阵优化（$DDP$）<ul>\n<li>齐次线性递推</li>\n<li>$f<em>i = \\sum</em>{j = 1}^m f_{i,j} \\cdot a_j$</li>\n</ul>\n</li>\n<li>生成函数优化</li>\n</ul>\n<h2 id=\"NOI2007-货币兑换\"><a href=\"#NOI2007-货币兑换\" class=\"headerlink\" title=\"NOI2007 货币兑换\"></a>NOI2007 货币兑换</h2><p><strong>题意</strong></p>\n<p>有$n$天，每天$A$的价值为$a_i,B$的价值为$b_i$</p>\n<p>每天你可以卖掉 $p \\%$ 的$A$ 和 $B$。也可以花费$k$天买入$A$和$B$，且$ A : B = r_i $</p>\n<p>$a_i,b_i,r_i$均为给定的值，$p,k$可以是任意实数。</p>\n<p>初始你有$S$元，问n天后的最大收益。</p>\n<p>$n \\leq 10^5$​</p>\n<p><strong>题解</strong></p>\n<ul>\n<li>首先这个题的p,k可以是任意实数，无法枚举，暴力都打不了</li>\n<li>很容易发现的一个性质是<strong>全买全卖存在最优方案</strong></li>\n<li>所以一定是当天把东西全卖掉然后过几天把它全买了，以此类推</li>\n<li>设$f_i$表示第i天能得到最多的钱数，可以发现一定是由$(i-1)$推过来的</li>\n<li>$f<em>i =a_i \\cdot max</em>{j&lt;i}(g_j \\cdot r_j + g_j \\cdot \\frac{b_i}{a_i})$​​​​</li>\n</ul>\n<p>A</p>\n<p>B</p>\n<p>$C:p_j 单调增,-w_i x $凸包 二分 $O(n logn)$</p>\n<p>$D:p_j x , -w_ix$ CDQ/动态 凸包 $O(n logn)$​</p>\n<p>$f<em>i = min</em>{i - l \\le j &lt; i}(f_j + p_j w_i) + q_i$​</p>\n<h2 id=\"长者\"><a href=\"#长者\" class=\"headerlink\" title=\"长者\"></a>长者</h2><p>一个长度为$n$的排列，有些位置上的数字已经确定了，剩下位置上的数字不确定。你要确定剩下位置上的数字，让得到的排列的最长上生子序列的长度尽量长。 $n \\leq 1e5$</p>\n<h2 id=\"Yet-another-ioi-problem（弱化版）\"><a href=\"#Yet-another-ioi-problem（弱化版）\" class=\"headerlink\" title=\"Yet another ioi problem（弱化版）\"></a>Yet another ioi problem（弱化版）</h2><p>一条链长度为$L$，有$n$个位置上有村庄，你需要选定恰好$k$个位置摆放水井，使得这$n$个村庄到最近的水井的距离和最短。</p>\n<p>$n,k \\leq 1e5,L \\leq 1e9$ </p>\n<h2 id=\"B\"><a href=\"#B\" class=\"headerlink\" title=\"B\"></a>B</h2><p>输入一颗n哥节点的树，保证每个节点的度数$\\le 16$。</p>\n<p>定义一个路径集合$S$，我们把它称为“好的”，当且仅当这个集合内的路径覆盖了这棵树的所有边，且每条边仅被覆盖一次。</p>\n<p>任务一：要求一个$|S|$最小的好的路径集合（即：使路径条数最小）。输出这个$|S|$。</p>\n<p>任务二：在任务一对基础上（即满足是最小的好的路径集合），要使这个集合中路径长度的$max$最小（定义一颗树上路径长度为边的数量）。输出路径长度的$max$。</p>\n<p>任务三：求满足任务二条件的集合数量。输出$998244353$取模后的值</p>\n<h2 id=\"Cf-1416E\"><a href=\"#Cf-1416E\" class=\"headerlink\" title=\"Cf 1416E\"></a>Cf 1416E</h2><p>考虑dp,f(i,j)表示当前dp到了a_i,b(2i) = j的情况下，合并之后的最小长度。转移显然：</p>\n<script type=\"math/tex; mode=display\">\nf(i,j) = [2j \\ne a_i] + min{f(i-1,a_i - j),f(i-1,k) + 1}</script><p>为了方便后面的优化，我们稍微考虑一下dp的定义</p>\n<p>$f(i,j)$表示当前dp到了a_i，b(2i) = j的情况下，最多能使答案减少多少(答案初始为2n)。</p>\n<p>那么方程变为：</p>\n<script type=\"math/tex; mode=display\">\nf(i,j) = [2j = a_i] + max(f(i-1,a_i - j)+1,f(i-1,k))</script><p>考虑用数据结构维护dp数组，每次有如下操作：</p>\n<p>1.记t为当前数组里的最大值，然后把大于等于a_i的位置全部删除。</p>\n<p>2.把整个数组反转（reverse）</p>\n<p>3.所有位置的数值和  + x</p>\n","text":"DP优化 $fi = min{i - l &lt; j &lt; i}(f_j + p_j) + p_i$​​ 使用单调队列优化 $fi = sum{i - l &lt; j &lt; i}(f_j + p_j) + p_i$ 使用前缀和优化 $fi = min{i - l &l...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#DP%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">DP优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#NOI2007-%E8%B4%A7%E5%B8%81%E5%85%91%E6%8D%A2\"><span class=\"toc-text\">NOI2007 货币兑换</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%95%BF%E8%80%85\"><span class=\"toc-text\">长者</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Yet-another-ioi-problem%EF%BC%88%E5%BC%B1%E5%8C%96%E7%89%88%EF%BC%89\"><span class=\"toc-text\">Yet another ioi problem（弱化版）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#B\"><span class=\"toc-text\">B</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Cf-1416E\"><span class=\"toc-text\">Cf 1416E</span></a></li></ol></li></ol>","author":{"name":"TheLight","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"网络流选讲","uid":"005d78720b9e835a238af502516610c0","slug":"网络流选讲","date":"2021-09-16T09:40:18.000Z","updated":"2021-09-16T10:05:17.250Z","comments":true,"path":"api/articles/网络流选讲.json","keywords":null,"cover":null,"text":"网络流选讲网络流定义 一个有向图，存在源点$S$和汇点$T$，每条边有一个流量，求从$S$到$T$最多能经过多少流量 $S \\in S’,T \\notin S’$​​,$E’ = (u,v) | u \\in S’,v \\notin S $​​​​ 最大流量 = 最小割 Ford-...","link":"","photos":[],"count_time":{"symbolsCount":865,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"TheLight","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"DP","uid":"25ed3aa3446c2c64cf6228f9f4e4f9c4","slug":"DP","date":"2021-09-16T09:38:51.000Z","updated":"2021-09-16T10:05:21.191Z","comments":true,"path":"api/articles/DP.json","keywords":null,"cover":null,"text":"DPpart1.动态规划的核心概念 状态 转移方程 初始化 实例揭秘本质—斐波那契数列 $众所周知 斐波那契数列的的递推式是:$ $fi = f{i-1} + f_{i-1}(i \\ge 2)$​ $问题来了，如何来求$$f_n$? $这个时候就要用到fi = f{i-1} + ...","link":"","photos":[],"count_time":{"symbolsCount":"6.5k","symbolsTime":"6 mins."},"categories":[],"tags":[],"author":{"name":"TheLight","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}